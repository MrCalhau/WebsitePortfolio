<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research</title>
    <link rel="icon" href="../../webicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../../css/top_nav_bar.css">
    <link rel="stylesheet" href="../../css/bot_nav_bar.css">
    <link rel="stylesheet" href="../../css/indv_worl_layout.css">
</head>
<body>
    <header>
        <nav class="main_tab">
            <div class="top_nav">
                <div class="left_nav">
                    <li class="nav">
                        <a href="../../index.html"><img src="../../weblogo.png" alt="Image 1" class="navbar_logo" ></a>
                    </li>
                </div>
                <div class="right_nav">
                    <li class="nav">
                        <a href="../../about_and_contacts.html" class="navbar_link">About</a>
                    </li>
                    <li class="nav">
                        <a href="../../about_and_contacts.html" class="navbar_link">Contact</a>
                    </li>
                </div>
            </div>
            <div class="bot_nav">
                <div class="work_type_nav">
                    <li class="nav">
                        <a href="../../lighting_work.html" class="navbar_link_bot">Lighting</a>
                    </li>
                    <li class="nav">
                        <a href="../../exhibitions.html" class="navbar_link_bot">Exhibitions</a>
                    </li>
                    <li class="nav">
                        <a href="../../3d_work.html" class="navbar_link_bot">3D</a>
                    </li>
                    <li class="nav">
                        <a href="../../research.html" class="navbar_link_bot">Research</a>
                    </li>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="worktitle">Custom Lighting Console (On Going)</div>
        <p class="workdate">2025</p>
        <div class="image_grid">
            <div class="textbox">
                <h2>Intro</h2>
                <h5>15/02/2025 (last edited: 15/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>This project is the result of my pursuit of a lighting console that has all the features I'm looking for while remaining affordable. Funnily enough, I know what "affordable" means for me right now, but I don’t actually know what features I want. I might end up buying a console only to realize later that it doesn’t fit my needs.</p>
                <p>Since I don’t currently have access to equipment I can test, building my own console—where I can tinker and discover what I like-seems both like a bad idea and a fun hands-on project!</p>
                <div class="text_blankline"></div>
                <p>Here are my goals for this project:</p>
                <div class="text_blankline"></div>
                <div class="text_tab_sim">
                    <p>Building a functional and reliable console with plug-and-play features (no extra software, just MA2).</p>
                    <p>Possibly adding extra fancy features, such as motorized faders and LEDs that respond to MA2 input through macros and Lua scripting.</p>
                </div>
                
            </div>
            <div class="img_and_descript">
                <img src="https://f003.backblazeb2.com/file/website-images/research/2025/02-15_LightConsole/faderexemple1.jpg" alt="Image 1" class="img" >
            </div>

            <div class="textbox">
                <h3>Patch Note 1.01 - Arduino and grandM2 Comunication</h3>
                <h5>15/02/2025 (last edited: 15/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>This might be one of the most important steps in making this console work without requiring any extra software to run on the host computer. Some Arduino boards, such as the Arduino Micro and Arduino Leonardo, can emulate a MIDI device thanks to their ATmega32U4 chip.</p>
                <p>I decided to go with the Arduino Micro due to its smaller size.</p>
                <p>With this setup, grandMA2 onPC successfully detects the Arduino as a MIDI device and is ready to receive MIDI notes from it. Plug and play just like originaly planned!</p>
            </div>

            <div class="textbox">
                <h2>Direction Update</h2>
                <h5>16/02/2025 (last edited: 16/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>I’m questioning the use case of this lighting console. If I have an MA2 console to work with, I wouldn’t use it. I can use it with a computer, but my screen isn’t tactile, and I don’t plan on getting one. That means the console would be useless unless I design it to be fully independent of any touch-screen input. Features like color selection must be fully implemented within the console itself.</p>
                <p>With this observation, the project has evolved into a much more complex problem-solving challenge.</p>
                <p>Going forward, keep in mind that I’m building this console for concert settings, so I will design it specifically to facilitate that environment.</p>    
            </div>

            <div class="textbox">
                <h3>Patch Note 2.01 - Color</h3>
                <h5>16/02/2025 (last edited: 17/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>Well, implementing controls for all a fixture’s features is going to be crazy. So let’s start simple! (jk) </p>
                <p>Color might be a great opportunity to design an entirely new system. By applying color theory, I can minimize the space this parameter occupies while keeping it efficient. My idea is to use one button and two knobs to control four simultaneous color selections.</p>
                <p>Again, keep in mind that this is for concert use, so the main priority is an efficient way to select colors that complement each other well.</p>
                <p>I'm going to label the button "Mode" and the two knobs "Direction" and "Spread," respectively. The "Mode" button will switch between preprogrammed modes. So far, I’ve thought of two.</p>
            </div>

            <div class="textbox">
                <h4>Color Mode 1</h4>
                <div class="text_blankline"></div>
                <p>All these "Modes" will produce four colors.</p>
                <P>In Mode 1, the Direction knob controls colors A and B simultaneously. A and B are always polar opposites on the color wheel, for example if A is red (255,0,0) B will be cyan (0,255,255). Colors C and D will copy B, cyan, but the Spread knob will adjust their positions by mirroring from B.</P>
                <P>This system allows for quick selection of four colors that follow color theory principles, ensuring aesthetically pleasing looks for concerts.</P>
                <div class="text_blankline"></div>
                <h4>Color Mode 2</h4>
                <div class="text_blankline"></div>
                <P>Just like in Mode 1 in Mode 2, the Direction knob controls colors A and B simultaneously. A and B are always polar opposites on the color wheel. Colors C will copy A and D will copy B and the Spread knob will adjust their positions by sliding them clock wise in the color wheel.</P>
            </div>

            <div class="img_and_descript">
                <img src="https://f003.backblazeb2.com/file/website-images/research/2025/02-15_LightConsole/colormode1.jpg" alt="Image 1" class="img" >
            </div>

            <div class="textbox">
                <h3>Patch Note 2.02 - Color</h3>
                <h5>17/02/2025 (last edited: 17/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>I have been testing this method with some faders instead of knobs. It works pretty well, and I can use the Arduino to efficiently calculate the colors of A, B, C, and D. However, now I need to decide how to send this data to ONPC MA2. Since this communication happens through MIDI, I need to determine how much data I can push out at a time, as this will define how complex this feature can be.</p>
                <div class="text_blankline"></div>
                <p>Before moving forward, it’s important to note that alongside these two knobs and a button, there will also be four buttons representing colors A, B, C, and D. There will be additional buttons for white, amber, and UV light, but they are not relevant at this stage.</p>
                <div class="text_blankline"></div>
                <p>In MA2, heavy use of presets are the backbone of the software, but I'm are diverging from the traditional approach slightly. With this method, at any given time, we will only have four color presets (Color A, B, C, and D).</p>
            </div>

            <div class="textbox">
                <h4>Foreseen utility without Midi limitations:</h4>
                <div class="text_blankline"></div>
                <p>Efficient and quick selection of color combinations without worrying about less optimal color palettes.</p>
                <p>Ability to create a color palette using any color in the RGB spectrum, no longer limited to primary and secondary colors.</p>
                <p>Smooth live color palette transitions mid-song without blackouts, undesirable color combinations, or confusion.</p>
                <p>Simplicity in live operation, making it easy to use in real-time performances.</p>
                <p>No pre-setup required. Color presets can be created on the fly without prior programming.</p>
            </div>

            <div class="textbox">
                <h3>Patch Note 1.02 - Arduino and grandM2 Comunication </h3>
                <h5>18/02/2025 (last edited: 18/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>I've been using MIDI to communicate between an Arduino and GrandMA2, but we've hit a limitation: MIDI can only trigger buttons, commands, and hardkeys, while note velocity is restricted to controlling faders. This makes transmitting RGB values inefficient, unreliable, and resource-intensive.</p>
                <p>OSC seems like a better alternative, but it requires Wi-Fi or Ethernet, which presents challenges. I prefer to avoid Wi-Fi, and the Ethernet port is already in use for the MA2 node. One option is to create a middleman program to convert MIDI to OSC, or alternatively, switch entirely to OSC communication.</p>
                <div class="text_blankline"></div>
                <p>30 minutes later, I’ve confirmed that GrandMA2 onPC does not support OSC. I explored using an Arduino Micro as a keyboard emulator to quickly input commands into MA2, but that turned out to be inefficient and impractical.</p>
                <p>Back to MIDI! With a combination of macros and Lua scripting, I'll attempt to read fader values and perform the necessary calculations. Most of the code is already written for Arduino. I just need to translate it!</p>
            </div>

            <div class="textbox">
                <h3>Patch Note 1.03 - Arduino and grandM2 Comunication </h3>
                <h5>19/02/2025 (last edited: 19/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>The method I recently mentioned is also a bust. I haven’t found an easy way to read fader values through Lua. I'm running out of options, and this project is becoming nearly impossible with the knowledge I have now.</p>
                <p>However, I’ve thought of something else. Two physical faders in the Arduino would calculate the previously mentioned Colors A, B, C, and D and then map their RGB values to 12 faders. Using the group selection in MA2, I could write a macro or Lua script to add and remove fixtures from these executors to control the color for each fixture group. I got that part sort of working, but this will only move forward if I'm able to create presets using only the fader values.</p>
                
            </div>

            <div class="textbox">
                <h2>Direction Update</h2>
                <h5>20/02/2025 (last edited: 20/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>I’m planning to focus on different sections of the project to create small prototypes, test them in the field, refine them, and then gradually integrate everything. Once each part is working well individually, I’ll transition to a full-fledged lighting console.</p>  
            </div>

            <div class="textbox">
                <h3>Patch Note 1.04 - Arduino and grandM2 Comunication </h3>
                <h5>20/02/2025 (last edited: 20/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>Success! I managed to save RGB values using fader data by assigning them to a dummy fixture and storing its output as a universal color preset. Now, any RGB fixture can use it! The possibilities are incredible—effect color references, automatic cue color updates, live color monitoring without affecting active fixtures, and seamless palette transitions. It’s exactly what was outlined in patch note 2.02! There are still some bugs to fix, and adding a manual update option could help reduce system load since there's a lot of constant data flow. Overall, I’m really happy with how this turned out!</p>
                <p>This little previous test gave a bit of insight of the possibilities of dummy fixtures. If i can get the values from a dummy fixture controled by a fader I can pass the RGB arduino logic to lua code. Saving in Midi Remote Setup time from 12 to olny 2 fader inputs!</p>
                <div class="text_blankline"></div>
                <p>Yeah... I don't think it's possible... But here is the set up working!</p>          
            </div>

            <div class="img_and_descript">
                <iframe src="https://www.youtube.com/embed/NrGBHE1rn0c?autoplay=1&playlist=NrGBHE1rn0c&loop=1&mute=1" allowfullscreen class="vid"></iframe>
            </div>


            <div class="textbox">
                <h2>Notes for Future Me</h1>
                <h5>15/02/2025 (last edited: 15/02/2025)</h5>
                <div class="text_blankline"></div>
                <p>Understand Midi protocol for Ma2 for both input and output in conjuction with arduino code.</p>
                <p>Power Supply Limitations.</p>
                <p>Build quality for eletronics and usability study.</p>
                <p>When to invest more money.</p>
                <p>in color selection remmember there is Amber, White, UV and other to consider and color wheel instead of RGB</p>
                <p>midi notes velocity oly mappable to faders = big issue</p>
            </div>
         </div>
    </main>
</body>
</html>